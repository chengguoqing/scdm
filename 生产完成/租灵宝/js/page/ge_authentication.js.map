{"version":3,"sources":["../../../../src/租灵宝/js/page/ge_authentication.js"],"names":["mui","init","beforeback","list","plus","webview","currentWebview","opener","fire","self","picker_re","PopPicker","setData","dsdd_sd","km","Vue","el","data","sheng_a","ben_id","company","prov","city","area","address","mobile","idnumber","idcardfaceimg","idcardbackimg","methods","xsd_sdgfx","document","activeElement","blur","sd_ds","show","rl","text","value","quer_sdf","toast","yanza","phone","car_t","addauthentication","sd_sdsd","Services","member","id","usertoken","getusertoken","level1","level2","level3","console","log","JSON","stringify","m_post","back","yesd_d","title","hgssf","sd_sd","sc","xz","url","license","d_sd_d","q","e","stopPropagation","created","sd_df","plusReady","authentication","m_ajax","industry"],"mappings":"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","file":"ge_authentication.js","sourcesContent":["//实名认证\r\nmui.init({\r\n\tbeforeback: function() {\r\n\t\t//获得列表界面的webview  \r\n\t\tvar list = plus.webview.currentWebview().opener();\r\n\t\t//触发列表界面的自定义事件（refresh）,从而进行数据刷新  \r\n\t\tmui.fire(list, 'refresh');\r\n\t\t//返回true，继续页面关闭逻辑  \r\n\t\treturn true;\r\n\t}\r\n});\r\nvar self = {}\r\n\r\nvar picker_re = new mui.PopPicker({\r\n\t\"layer\": [3]\r\n});\r\npicker_re.setData(dsdd_sd)\r\nvar km = new Vue({\r\n\tel: '#authentication',\r\n\tdata: {\r\n\t\tsheng_a: \"\",\r\n\t\tben_id: \"\",\r\n\t\tcompany: \"\", //企业名称\r\n\t\tprov: \"\", //省id\r\n\t\tcity: \"\", //市id\r\n\t\tarea: \"\", //区id\r\n\t\taddress: \"\", //详细地址\r\n\t\tmobile: \"\", //联系电话\r\n\t\tidnumber: \"\", //身份证号\r\n\t\tidcardfaceimg: \"\", //身份证正面照片\r\n\t\tidcardbackimg: \"\" //身份证反面照片\r\n\t},\r\n\tmethods: {\r\n\t\txsd_sdgfx: function() {\r\n\t\t\tdocument.activeElement.blur();\r\n\t\t\tvar sd_ds = this\r\n\t\t\tpicker_re.show(function(rl) {\r\n\t\t\t\tsd_ds.sheng_a = rl[0].text + \"-\" + rl[1].text + (rl[2].text ? '-' + rl[2].text : '')\r\n\t\t\t\tsd_ds.prov = rl[0].value\r\n\t\t\t\tsd_ds.city = rl[1].value\r\n\t\t\t\tsd_ds.area = rl[2].value\r\n\t\t\t})\r\n\t\t},\r\n\t\tquer_sdf: function() { //确认按钮触发\r\n\t\t\tif(!this.company) {\r\n\t\t\t\tmui.toast(\"姓名不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.prov) {\r\n\t\t\t\tmui.toast(\"请选择省\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.city) {\r\n\t\t\t\tmui.toast(\"请选择市\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.area) {\r\n\t\t\t\tmui.toast(\"请选择区\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.address) {\r\n\t\t\t\tmui.toast(\"详细地址不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.mobile) {\r\n\t\t\t\tmui.toast(\"联系电话不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!yanza.phone(this.mobile)) {\r\n\t\t\t\tmui.toast(\"联系电话格式错误\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.idnumber) {\r\n\t\t\t\tmui.toast(\"身份证号码不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!yanza.car_t(this.idnumber)) {\r\n\t\t\t\tmui.toast(\"身份证号码格式错误\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.idcardfaceimg) {\r\n\t\t\t\tmui.toast(\"身份证正面照片\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.idcardbackimg) {\r\n\t\t\t\tmui.toast(\"身份证反面照片\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar addauthentication = {},\r\n\t\t\t\tsd_sdsd = this\r\n\t\t\taddauthentication.Services = \"usercompany.addauthentication\"\r\n\t\t\tif(self.member) {\r\n\t\t\t\taddauthentication.id = this.ben_id\r\n\t\t\t}\r\n\t\t\taddauthentication.usertoken = getusertoken();\r\n\t\t\taddauthentication.member = 1\r\n\t\t\taddauthentication.company = this.company\r\n\t\t\taddauthentication.mobile = this.mobile\r\n\t\t\taddauthentication.level1 = this.prov\r\n\t\t\taddauthentication.level2 = this.city\r\n\t\t\taddauthentication.level3 = this.area\r\n\t\t\taddauthentication.address = this.address\r\n\t\t\taddauthentication.idnumber = this.idnumber\r\n\t\t\taddauthentication.idcardfaceimg = this.idcardfaceimg\r\n\t\t\taddauthentication.idcardbackimg = this.idcardbackimg\r\n\t\t\tconsole.log(JSON.stringify(addauthentication))\r\n\t\t\tm_post(addauthentication, function(data) {\r\n\t\t\t\tmui.toast(\"认证成功\")\r\n\t\t\t\tconsole.log(JSON.stringify(data))\r\n\t\t\t\tmui.back()\r\n\t\t\t})\r\n\t\t},\r\n\t\tyesd_d: function(title, hgssf) {\r\n\t\t\tvar sd_sd = this\r\n\r\n\t\t\tsc.xz(title, function(url) {\r\n\t\t\t\tswitch(hgssf) {\r\n\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\tsd_sd.license = url;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\tsd_sd.idcardfaceimg = url;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\tcase 3:\r\n\t\t\t\t\t\tsd_sd.idcardbackimg = url;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t},\r\n\t\td_sd_d: function(q, e) {\r\n\t\t\te.stopPropagation()\r\n\t\t\tvar sd_sd = this\r\n\t\t\tswitch(q) {\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tsd_sd.license = \"\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tsd_sd.idcardfaceimg = \"\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tsd_sd.idcardbackimg = \"\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t},\r\n\tcreated: function() {\r\n\r\n\t\tvar sd_df = this\r\n\t\tmui.plusReady(function() {\r\n\t\t\tself = plus.webview.currentWebview();\r\n\t\t\tif(self.member) {\r\n\t\t\t\tvar authentication = {}\r\n\t\t\t\tauthentication.Services = \"usercompany.authentication\"\r\n\t\t\t\tauthentication.usertoken = getusertoken()\r\n\t\t\t\tauthentication.member = self.member\r\n\t\t\t\tm_ajax(authentication, function(data) {\r\n\t\t\t\t\tsd_df.ben_id = data.id\r\n\t\t\t\t\tsd_df.company = data.company\r\n\t\t\t\t\tsd_df.mobile = data.mobile\r\n\t\t\t\t\tsd_df.prov = data.level1\r\n\t\t\t\t\tsd_df.city = data.level2\r\n\t\t\t\t\tsd_df.area = data.level3\r\n\t\t\t\t\tsd_df.sheng_a = data.area\r\n\t\t\t\t\tsd_df.address = data.address\r\n\t\t\t\t\tsd_df.idnumber = data.idnumber\r\n\t\t\t\t\tsd_df.industry = data.industry\r\n\t\t\t\t\tsd_df.idcardfaceimg = data.idcardfaceimg\r\n\t\t\t\t\tsd_df.idcardbackimg = data.idcardbackimg\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\r\n\t}\r\n\r\n})"]}