{"version":3,"sources":["../../../../src/租灵宝/js/page/tuwener.js"],"names":["mui","plusReady","tuwensan","plus","webview","getWebviewById","close","tuwen","picker_re","PopPicker","setData","dsdd_sd","self","km","Vue","el","data","name","good_id","budgetprice","measure_unit","rentstatus","locationsn","sheng_a","prov","city","area","searchaddr","lat","lng","sdd_sd","text","value","methods","we_oiu_s","toast","goodproductadd","zi_id","Services","id","usertoken","getusertoken","level1","level2","level3","sd_drsd","m_post","zhu","xsd_sdgfx","document","activeElement","blur","sd_ds","show","rl","quxiao","back","created","sd_dsd","currentWebview","goodproductview","m_ajax","father","e","G","getElementById","map","BMap","Map","centerAndZoom","ac","Autocomplete","myGeo","Geocoder","addEventListener","str","_value","fromitem","index","province","district","street","business","toitem","getPoint","point","alert","innerHTML","myValue","item","setPlace","clearOverlays","myFun","pp","local","getResults","getPoi","addOverlay","Marker","LocalSearch","onSearchComplete","search"],"mappings":"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","file":"tuwener.js","sourcesContent":["//添加子产品\r\nmui.plusReady(function() {\r\n\tvar tuwensan = plus.webview.getWebviewById('tuwensan');\r\n\tplus.webview.close(tuwensan)\r\n\tvar tuwen = plus.webview.getWebviewById('tuwen');\r\n\tplus.webview.close(tuwen)\r\n})\r\n\r\nvar picker_re = new mui.PopPicker({\r\n\t\"layer\": [3]\r\n});\r\npicker_re.setData(dsdd_sd)\r\n\r\nvar self = {}\r\n\r\nvar km = new Vue({\r\n\tel: '#tuwener',\r\n\tdata: {\r\n\t\tname: \"\",\r\n\t\tgood_id: \"\",\r\n\t\tbudgetprice: \"\", //价格\r\n\t\tmeasure_unit: \"\", //单位\r\n\t\trentstatus: \"\", //状态 （rentstatus=1待租，rentstatus=2在租）\r\n\t\tlocationsn: \"\", //定位器编码\r\n\t\tsheng_a: \"\",\r\n\t\tprov: \"\", //省id\r\n\t\tcity: \"\", //市id\r\n\t\tarea: \"\", //区id\r\n\t\tsearchaddr: \"\", //详细地址\r\n\t\tlat: \"\", //经度\r\n\t\tlng: \"\", //纬度\r\n\t\tsdd_sd: [{\r\n\t\t\ttext: '1',\r\n\t\t\tvalue: '待租'\r\n\t\t}, {\r\n\t\t\ttext: '2',\r\n\t\t\tvalue: '在租'\r\n\t\t}]\r\n\t},\r\n\tmethods: {\r\n\t\twe_oiu_s: function() {\r\n\t\t\tif(!this.name) {\r\n\t\t\t\tmui.toast(\"名称不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.budgetprice) {\r\n\t\t\t\tmui.toast(\"价格不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.measure_unit) {\r\n\t\t\t\tmui.toast(\"单位不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif(!this.rentstatus) {\r\n\t\t\t\tmui.toast(\"状态不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.locationsn) {\r\n\t\t\t\tmui.toast(\"定位器码不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.sheng_a) {\r\n\t\t\t\tmui.toast(\"地区区域不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.searchaddr) {\r\n\t\t\t\tmui.toast(\"详细地址不能为空\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar goodproductadd = {}\r\n\t\t\tif(self.zi_id) {\r\n\t\t\t\tgoodproductadd.Services = \"usergood.goodproductedit\"\r\n\t\t\t\tgoodproductadd.id = self.zi_id\r\n\t\t\t} else {\r\n\t\t\t\tgoodproductadd.Services = \"usergood.goodproductadd\"\r\n\t\t\t}\r\n\t\t\tgoodproductadd.usertoken = getusertoken()\r\n\t\t\tgoodproductadd.good_id = self.good_id\r\n\t\t\tgoodproductadd.name = this.name\r\n\t\t\tgoodproductadd.budgetprice = this.budgetprice\r\n\t\t\tgoodproductadd.measure_unit = this.measure_unit\r\n\t\t\tgoodproductadd.rentstatus = this.rentstatus\r\n\t\t\tgoodproductadd.locationsn = this.locationsn\r\n\t\t\tgoodproductadd.level1 = this.prov\r\n\t\t\tgoodproductadd.level2 = this.city\r\n\t\t\tgoodproductadd.level3 = this.area\r\n\t\t\tgoodproductadd.searchaddr = this.searchaddr\r\n\t\t\tgoodproductadd.lat = this.lat\r\n\t\t\tgoodproductadd.lng = this.lng\r\n\t\t\tvar sd_drsd = this\r\n\t\t\tm_post(goodproductadd, function(data) {\r\n\t\t\t\tsd_drsd.zhu('tuwensan', 'fade-in', {\r\n\t\t\t\t\tgood_id: self.good_id\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t},\r\n\t\txsd_sdgfx: function() {\r\n\t\t\tdocument.activeElement.blur()\r\n\t\t\tvar sd_ds = this\r\n\t\t\tpicker_re.show(function(rl) {\r\n\t\t\t\tsd_ds.sheng_a = rl[0].text + \"-\" + rl[1].text + (rl[2].text ? '-' + rl[2].text : '')\r\n\t\t\t\tsd_ds.prov = rl[0].value\r\n\t\t\t\tsd_ds.city = rl[1].value\r\n\t\t\t\tsd_ds.area = rl[2].value\r\n\t\t\t})\r\n\t\t},\r\n\t\tquxiao: function() {\r\n\t\t\tmui.back()\r\n\t\t}\r\n\t},\r\n\tcreated: function() {\r\n\t\tvar sd_dsd = this\r\n\t\tmui.plusReady(function() {\r\n\t\t\tself = plus.webview.currentWebview();\r\n\t\t\tsd_dsd.good_id = self.good_id\r\n\t\t\tif(self.zi_id) {\r\n\t\t\t\tvar goodproductview = {}\r\n\t\t\t\tgoodproductview.Services = \"usergood.goodproductview\"\r\n\t\t\t\tgoodproductview.usertoken = getusertoken()\r\n\t\t\t\tgoodproductview.id = self.zi_id\r\n\t\t\t\tm_ajax(goodproductview, function(data) {\r\n\t\t\t\t\tsd_dsd.name = data.name\r\n\t\t\t\t\tsd_dsd.budgetprice = data.budgetprice //价格\r\n\t\t\t\t\tsd_dsd.measure_unit = data.measure_unit //单位\r\n\t\t\t\t\tsd_dsd.rentstatus = data.rentstatus //状态 （rentstatus=1待租，rentstatus=2在租）\r\n\t\t\t\t\tsd_dsd.locationsn = data.locationsn //定位器编码\r\n\t\t\t\t\tsd_dsd.searchaddr = data.searchaddr\r\n\t\t\t\t\tsd_dsd.prov = data.area[1].father\r\n\t\t\t\t\tsd_dsd.city = data.area[2].father\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsd_dsd.area = data.area[3].father\r\n\t\t\t\t\t\tsd_dsd.sheng_a = data.area[1].name + \"-\" + data.area[2].name + \"-\" + data.area[3].name\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tsd_dsd.sheng_a = data.area[1].name + \"-\" + data.area[2].name\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n})\r\n\r\n// 百度地图API功能\r\nfunction G(id) {\r\n\treturn document.getElementById(id);\r\n}\r\n\r\nvar map = new BMap.Map(\"allmap\");\r\nmap.centerAndZoom(\"北京\", 12); // 初始化地图,设置城市和地图级别。\r\n\r\nvar ac = new BMap.Autocomplete( //建立一个自动完成的对象\r\n\t{\r\n\t\t\"input\": \"suggestId\",\r\n\t\t\"location\": map\r\n\t});\r\nvar myGeo = new BMap.Geocoder();\r\n// 将地址解析结果显示在地图上,并调整地图视野\r\n\r\nac.addEventListener(\"onhighlight\", function(e) { //鼠标放在下拉列表上的事件\r\n\tvar str = \"\";\r\n\tvar _value = e.fromitem.value;\r\n\tvar value = \"\";\r\n\tif(e.fromitem.index > -1) {\r\n\t\tvalue = _value.province + _value.city + _value.district + _value.street + _value.business;\r\n\t}\r\n\tstr = \"FromItem<br />index = \" + e.fromitem.index + \"<br />value = \" + value;\r\n\r\n\tvalue = \"\";\r\n\tif(e.toitem.index > -1) {\r\n\t\t_value = e.toitem.value;\r\n\t\tvalue = _value.province + _value.city + _value.district + _value.street + _value.business;\r\n\t}\r\n\tstr += \"<br />ToItem<br />index = \" + e.toitem.index + \"<br />value = \" + value;\r\n\tmyGeo.getPoint(str, function(point) {\r\n\t\tif(point) {\r\n\r\n\t\t\tkm.lat = point.lat\r\n\t\t\tkm.lng = point.lng\r\n\t\t} else {\r\n\t\t\talert(\"您选择地址没有解析到结果!\");\r\n\t\t}\r\n\t});\r\n\tkm.searchaddr = str\r\n\tG(\"searchResultPanel\").innerHTML = str;\r\n});\r\n\r\nvar myValue;\r\nac.addEventListener(\"onconfirm\", function(e) { //鼠标点击下拉列表后的事件\r\n\tvar _value = e.item.value;\r\n\tmyValue = _value.province + _value.city + _value.district + _value.street + _value.business;\r\n\tG(\"searchResultPanel\").innerHTML = \"onconfirm<br />index = \" + e.item.index + \"<br />myValue = \" + myValue;\r\n\tmyGeo.getPoint(myValue, function(point) {\r\n\t\tif(point) {\r\n\t\t\tkm.lat = point.lat\r\n\t\t\tkm.lng = point.lng\r\n\t\t} else {\r\n\t\t\talert(\"您选择地址没有解析到结果!\");\r\n\t\t}\r\n\t});\r\n\tkm.searchaddr = myValue\r\n\tsetPlace();\r\n});\r\n\r\nfunction setPlace() {\r\n\tmap.clearOverlays(); //清除地图上所有覆盖物\r\n\tfunction myFun() {\r\n\t\tvar pp = local.getResults().getPoi(0).point; //获取第一个智能搜索的结果\r\n\t\tmap.centerAndZoom(pp, 18);\r\n\t\tmap.addOverlay(new BMap.Marker(pp)); //添加标注\r\n\t}\r\n\tvar local = new BMap.LocalSearch(map, { //智能搜索\r\n\t\tonSearchComplete: myFun\r\n\t});\r\n\tlocal.search(myValue);\r\n}"]}