{"version":3,"sources":["../../../../src/租灵宝/js/page/post_message.js"],"names":["mui","init","beforeback","list","plus","webview","currentWebview","opener","fire","ue","UE","getEditor","picker_f","PopPicker","self","picker","dtPicker","DtPicker","km","Vue","el","data","fengg_s","cat_id","sd_ss_a","name","model","mapaddr","measure_unit","leasetime","budgetprice","number","contacts","mobile","brief","content","methods","fenleis","document","activeElement","blur","sd_Sd","show","rl","text","value","tytew_sd","rs","uyt_tis","alert","yanza","phone","usergood_add","dsf_sds","Services","bianji","good_id","usertoken","getusertoken","type","t_id","getContent","m_post","toast","back","created","sdj_s","plusReady","setData","f_qiu","qiu_ergou","singleview","m_ajax","sd_sdf","good","catlog","id","e","setTimeout","setContent"],"mappings":";;AAAA;;AAEAA,IAAIC,IAAJ,CAAS;AACRC,aAAY,sBAAW;AACtB;AACA,MAAIC,OAAOC,KAAKC,OAAL,CAAaC,cAAb,GAA8BC,MAA9B,EAAX;AACA;AACAP,MAAIQ,IAAJ,CAASL,IAAT,EAAe,aAAf;AACA;AACA,SAAO,IAAP;AACA;AARO,CAAT;;AAWA,IAAIM,KAAKC,GAAGC,SAAH,CAAa,QAAb,CAAT;AACA,IAAIC,WAAW,IAAIZ,IAAIa,SAAR,CAAkB;AAChC,UAAS,CAAC,CAAD;AADuB,CAAlB,CAAf;AAGA,IAAIC,OAAO,EAAX;;AAEA,IAAIC,SAAS,EAAb;AACA,IAAIC,WAAW,IAAIhB,IAAIiB,QAAR,CAAiB;AAC/B,SAAQ,MADuB;AAE/B,cAAa,MAFkB,CAEX;;AAFW,CAAjB,CAAf;;AAMA,IAAIC,KAAK,IAAIC,GAAJ,CAAQ;AAChBC,KAAI,eADY;AAEhBC,OAAM;AACLC,WAAS,EADJ;AAELC,UAAQ,EAFH,EAEO;AACZC,WAAS,EAHJ;AAILC,QAAM,EAJD,EAIK;AACVC,SAAO,EALF,EAKM;AACXC,WAAS,EANJ,EAMQ;AACbC,gBAAc,EAPT,EAOa;AAClBC,aAAW,EARN,EAQU;AACfC,eAAa,EATR,EASY;AACjBC,UAAQ,EAVH,EAUO;AACZC,YAAU,EAXL,EAWS;AACdC,UAAQ,EAZH,EAYO;AACZC,SAAO,EAbF;AAcLC,WAAS,EAdJ,CAcO;;AAdP,EAFU;AAmBhBC,UAAS;;AAERC,WAAS,mBAAW;AACnBC,YAASC,aAAT,CAAuBC,IAAvB;AACA,OAAIC,QAAQ,IAAZ;AACA7B,YAAS8B,IAAT,CAAc,UAASC,EAAT,EAAa;AAC1BF,UAAMjB,OAAN,GAAgBmB,GAAG,CAAH,EAAMC,IAAN,GAAa,GAAb,GAAmBD,GAAG,CAAH,EAAMC,IAAzB,IAAiCD,GAAG,CAAH,EAAMC,IAAN,GAAa,MAAMD,GAAG,CAAH,EAAMC,IAAzB,GAAgC,EAAjE,CAAhB;;AAEA,QAAGD,GAAG,CAAH,EAAMC,IAAT,EAAe;AACdH,WAAMlB,MAAN,GAAeoB,GAAG,CAAH,EAAME,KAArB;AACA;AACD,QAAGF,GAAG,CAAH,EAAMC,IAAT,EAAe;AACdH,WAAMlB,MAAN,GAAeoB,GAAG,CAAH,EAAME,KAArB;AACA;AACD,IATD;AAWA,GAhBO;AAiBRC,YAAU,oBAAW;AACpBR,YAASC,aAAT,CAAuBC,IAAvB;AACA,OAAIC,QAAQ,IAAZ;AACAzB,YAAS0B,IAAT,CAAc,UAASK,EAAT,EAAa;AAC1BN,UAAMZ,SAAN,GAAkBkB,GAAGH,IAArB;AACA,IAFD;AAGA,GAvBO;AAwBRI,WAAS,mBAAW;AAAE;;AAErB,OAAG,CAAC,KAAKvB,IAAT,EAAe;AACdwB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAK1B,MAAT,EAAiB;AAChB0B,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKvB,KAAT,EAAgB;AACfuB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKtB,OAAT,EAAkB;AACjBsB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKrB,YAAT,EAAuB;AACtBqB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKpB,SAAT,EAAoB;AACnBoB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKnB,WAAT,EAAsB;AACrBmB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKlB,MAAT,EAAiB;AAChBkB,UAAM,QAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKjB,QAAT,EAAmB;AAClBiB,UAAM,SAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKhB,MAAT,EAAiB;AAChBgB,UAAM,UAAN;AACA;AACA;AACD,OAAG,CAACC,MAAMC,KAAN,CAAY,KAAKlB,MAAjB,CAAJ,EAA8B;AAC7BgB,UAAM,UAAN;AACA;AACA;AACD,OAAG,CAAC,KAAKf,KAAT,EAAgB;AACfe,UAAM,QAAN;AACA;AACA;AACD,OAAIG,eAAe,EAAnB;AAAA,OACCC,UAAU,IADX;;AAGAD,gBAAaE,QAAb,GAAwB,oBAAxB;AACA,OAAGxC,KAAKyC,MAAR,EAAgB;AACfH,iBAAaE,QAAb,GAAwB,qBAAxB;AACAF,iBAAaI,OAAb,GAAuB1C,KAAKyC,MAA5B;AACA;;AAEDH,gBAAaK,SAAb,GAAyBC,cAAzB;AACAN,gBAAaO,IAAb,GAAoB7C,KAAK8C,IAAzB;AACAR,gBAAa7B,MAAb,GAAsB,KAAKA,MAA3B;AACA6B,gBAAa3B,IAAb,GAAoB,KAAKA,IAAzB,CA9DmB,CA8DW;AAC9B2B,gBAAa1B,KAAb,GAAqB,KAAKA,KAA1B,CA/DmB,CA+Da;AAChC0B,gBAAazB,OAAb,GAAuB,KAAKA,OAA5B,CAhEmB,CAgEiB;AACpCyB,gBAAaxB,YAAb,GAA4B,KAAKA,YAAjC,CAjEmB,CAiE2B;AAC9CwB,gBAAavB,SAAb,GAAyB,KAAKA,SAA9B,CAlEmB,CAkEqB;AACxCuB,gBAAatB,WAAb,GAA2B,KAAKA,WAAhC,CAnEmB,CAmEyB;AAC5CsB,gBAAarB,MAAb,GAAsB,KAAKA,MAA3B,CApEmB,CAoEe;AAClCqB,gBAAapB,QAAb,GAAwB,KAAKA,QAA7B,CArEmB,CAqEmB;AACtCoB,gBAAanB,MAAb,GAAsB,KAAKA,MAA3B,CAtEmB,CAsEe;AAClCmB,gBAAalB,KAAb,GAAqB,KAAKA,KAA1B,CAvEmB,CAuEa;AAChCkB,gBAAajB,OAAb,GAAuB1B,GAAGoD,UAAH,EAAvB,CAxEmB,CAwEqB;AACxCC,UAAOV,YAAP,EAAqB,UAAS/B,IAAT,EAAe;AACnCrB,QAAI+D,KAAJ,CAAU,MAAV;AACA/D,QAAIgE,IAAJ;AACA,IAHD;AAKA;AAtGO,EAnBO;AA2HhBC,UAAS,mBAAW;AACnB,MAAIC,QAAQ,IAAZ;AACAlE,MAAImE,SAAJ,CAAc,YAAW;AACxBrD,UAAOV,KAAKC,OAAL,CAAaC,cAAb,EAAP;AACA,OAAGQ,KAAK8C,IAAL,IAAa,CAAhB,EAAmB;AAClBhD,aAASwD,OAAT,CAAiBC,KAAjB;AACA,IAFD,MAEO,IAAGvD,KAAK8C,IAAL,IAAa,CAAhB,EAAmB;AACzBhD,aAASwD,OAAT,CAAiBE,SAAjB;AACA;AACD,OAAGxD,KAAKyC,MAAR,EAAgB;AACf,QAAIgB,aAAa,EAAjB;AACAA,eAAWjB,QAAX,GAAsB,qBAAtB;AACAiB,eAAWd,SAAX,GAAuBC,cAAvB;AACAa,eAAWf,OAAX,GAAqB1C,KAAKyC,MAA1B;AACAiB,WAAOD,UAAP,EAAmB,UAASlD,IAAT,EAAe;AACjC,SAAIoD,SAASpD,KAAKqD,IAAlB;AACAR,WAAM1C,OAAN,GAAgBH,KAAKsD,MAAL,CAAY,CAAZ,EAAelD,IAAf,GAAsB,GAAtB,GAA4BJ,KAAKsD,MAAL,CAAY,CAAZ,EAAelD,IAA3D;AACAyC,WAAM3C,MAAN,GAAeF,KAAKsD,MAAL,CAAY,CAAZ,EAAeC,EAA9B;AACA,SAAI;AACHV,YAAM1C,OAAN,IAAiB,MAAMH,KAAKsD,MAAL,CAAY,CAAZ,EAAelD,IAAtC;AACAyC,YAAM3C,MAAN,GAAeF,KAAKsD,MAAL,CAAY,CAAZ,EAAeC,EAA9B;AACA,MAHD,CAGE,OAAMC,CAAN,EAAS,CAEV;AACDC,gBAAW,YAAW;AACrBZ,YAAMzC,IAAN,GAAagD,OAAOhD,IAApB,CADqB,CACI;AACzByC,YAAMxC,KAAN,GAAc+C,OAAO/C,KAArB,CAFqB,CAEM;AAC3BwC,YAAMvC,OAAN,GAAgB8C,OAAO9C,OAAvB,CAHqB,CAGU;AAC/BuC,YAAMtC,YAAN,GAAqB6C,OAAO7C,YAA5B,CAJqB,CAIoB;AACzCsC,YAAMrC,SAAN,GAAkB4C,OAAO5C,SAAzB,CALqB,CAKc;AACnCqC,YAAMpC,WAAN,GAAoB2C,OAAO3C,WAA3B,CANqB,CAMkB;AACvCoC,YAAMnC,MAAN,GAAe0C,OAAO1C,MAAtB,CAPqB,CAOQ;AAC7BmC,YAAMlC,QAAN,GAAiByC,OAAOzC,QAAxB,CARqB,CAQY;AACjCkC,YAAMjC,MAAN,GAAewC,OAAOxC,MAAtB,CATqB,CASQ;AAC7BiC,YAAMhC,KAAN,GAAcuC,OAAOvC,KAArB;AACAgC,YAAM/B,OAAN,GAAgBsC,OAAOtC,OAAvB,CAXqB,CAWU;AAC/B1B,SAAGsE,UAAH,CAAcN,OAAOtC,OAArB;AACA,MAbD,EAaG,GAbH;AAeA,KAzBD;AA0BA;AACD,GAvCD;AAwCA;;AArKe,CAAR,CAAT","file":"post_message.js","sourcesContent":["//添加信息\r\n\r\nmui.init({\r\n\tbeforeback: function() {\r\n\t\t//获得列表界面的webview  \r\n\t\tvar list = plus.webview.currentWebview().opener();\r\n\t\t//触发列表界面的自定义事件（refresh）,从而进行数据刷新  \r\n\t\tmui.fire(list, 'refr_sdresh');\r\n\t\t//返回true，继续页面关闭逻辑  \r\n\t\treturn true;\r\n\t}\r\n});\r\n\r\nvar ue = UE.getEditor('editor');\r\nvar picker_f = new mui.PopPicker({\r\n\t\"layer\": [3]\r\n});\r\nvar self = {}\r\n\r\nvar picker = \"\"\r\nvar dtPicker = new mui.DtPicker({\r\n\t\"type\": \"date\",\r\n\t\"beginYear\": \"1950\" //开始时间\r\n\r\n});\r\n\r\nvar km = new Vue({\r\n\tel: '#post_message',\r\n\tdata: {\r\n\t\tfengg_s: \"\",\r\n\t\tcat_id: \"\", //分类\r\n\t\tsd_ss_a: \"\",\r\n\t\tname: \"\", //名称\r\n\t\tmodel: \"\", //需求\r\n\t\tmapaddr: \"\", //地点\r\n\t\tmeasure_unit: \"\", //单位\r\n\t\tleasetime: \"\", //时间\r\n\t\tbudgetprice: \"\", //价格\r\n\t\tnumber: \"\", //数量\r\n\t\tcontacts: \"\", //联系人\r\n\t\tmobile: \"\", //联系电话\r\n\t\tbrief: \"\",\r\n\t\tcontent: \"\" //描述\r\n\r\n\t},\r\n\tmethods: {\r\n\r\n\t\tfenleis: function() {\r\n\t\t\tdocument.activeElement.blur()\r\n\t\t\tvar sd_Sd = this\r\n\t\t\tpicker_f.show(function(rl) {\r\n\t\t\t\tsd_Sd.sd_ss_a = rl[0].text + \"-\" + rl[1].text + (rl[2].text ? '-' + rl[2].text : \"\")\r\n\r\n\t\t\t\tif(rl[1].text) {\r\n\t\t\t\t\tsd_Sd.cat_id = rl[1].value\r\n\t\t\t\t}\r\n\t\t\t\tif(rl[2].text) {\r\n\t\t\t\t\tsd_Sd.cat_id = rl[2].value\r\n\t\t\t\t}\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\ttytew_sd: function() {\r\n\t\t\tdocument.activeElement.blur()\r\n\t\t\tvar sd_Sd = this\r\n\t\t\tdtPicker.show(function(rs) {\r\n\t\t\t\tsd_Sd.leasetime = rs.text\r\n\t\t\t})\r\n\t\t},\r\n\t\tuyt_tis: function() { //确认按钮触发\r\n\r\n\t\t\tif(!this.name) {\r\n\t\t\t\talert(\"名称不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.cat_id) {\r\n\t\t\t\talert(\"分类不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.model) {\r\n\t\t\t\talert(\"需求不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.mapaddr) {\r\n\t\t\t\talert(\"地点不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.measure_unit) {\r\n\t\t\t\talert(\"单位不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.leasetime) {\r\n\t\t\t\talert(\"时间不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.budgetprice) {\r\n\t\t\t\talert(\"价格不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.number) {\r\n\t\t\t\talert(\"数量不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.contacts) {\r\n\t\t\t\talert(\"联系人不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.mobile) {\r\n\t\t\t\talert(\"联系电话不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!yanza.phone(this.mobile)) {\r\n\t\t\t\talert(\"联系电话格式错误\")\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tif(!this.brief) {\r\n\t\t\t\talert(\"描述不能为空\");\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar usergood_add = {},\r\n\t\t\t\tdsf_sds = this\r\n\r\n\t\t\tusergood_add.Services = \"usergood.singleadd\"\r\n\t\t\tif(self.bianji) {\r\n\t\t\t\tusergood_add.Services = \"usergood.singleedit\"\r\n\t\t\t\tusergood_add.good_id = self.bianji\r\n\t\t\t}\r\n\r\n\t\t\tusergood_add.usertoken = getusertoken()\r\n\t\t\tusergood_add.type = self.t_id\r\n\t\t\tusergood_add.cat_id = this.cat_id\r\n\t\t\tusergood_add.name = this.name //名称\r\n\t\t\tusergood_add.model = this.model //需求\r\n\t\t\tusergood_add.mapaddr = this.mapaddr //地点\r\n\t\t\tusergood_add.measure_unit = this.measure_unit //单位\r\n\t\t\tusergood_add.leasetime = this.leasetime //时间\r\n\t\t\tusergood_add.budgetprice = this.budgetprice //价格\r\n\t\t\tusergood_add.number = this.number //数量\r\n\t\t\tusergood_add.contacts = this.contacts //联系人\r\n\t\t\tusergood_add.mobile = this.mobile //联系电话\r\n\t\t\tusergood_add.brief = this.brief //描述\r\n\t\t\tusergood_add.content = ue.getContent(); //详情\r\n\t\t\tm_post(usergood_add, function(data) {\r\n\t\t\t\tmui.toast(\"提交成功\");\r\n\t\t\t\tmui.back()\r\n\t\t\t})\r\n\r\n\t\t}\r\n\t},\r\n\tcreated: function() {\r\n\t\tvar sdj_s = this\r\n\t\tmui.plusReady(function() {\r\n\t\t\tself = plus.webview.currentWebview();\r\n\t\t\tif(self.t_id == 2) {\r\n\t\t\t\tpicker_f.setData(f_qiu)\r\n\t\t\t} else if(self.t_id == 4) {\r\n\t\t\t\tpicker_f.setData(qiu_ergou)\r\n\t\t\t}\r\n\t\t\tif(self.bianji) {\r\n\t\t\t\tvar singleview = {}\r\n\t\t\t\tsingleview.Services = \"usergood.singleview\"\r\n\t\t\t\tsingleview.usertoken = getusertoken()\r\n\t\t\t\tsingleview.good_id = self.bianji\r\n\t\t\t\tm_ajax(singleview, function(data) {\r\n\t\t\t\t\tvar sd_sdf = data.good\r\n\t\t\t\t\tsdj_s.sd_ss_a = data.catlog[0].name + \"-\" + data.catlog[1].name\r\n\t\t\t\t\tsdj_s.cat_id = data.catlog[1].id\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tsdj_s.sd_ss_a += \"-\" + data.catlog[2].name\r\n\t\t\t\t\t\tsdj_s.cat_id = data.catlog[2].id\r\n\t\t\t\t\t} catch(e) {\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tsdj_s.name = sd_sdf.name //名称\r\n\t\t\t\t\t\tsdj_s.model = sd_sdf.model //需求\r\n\t\t\t\t\t\tsdj_s.mapaddr = sd_sdf.mapaddr //地点\r\n\t\t\t\t\t\tsdj_s.measure_unit = sd_sdf.measure_unit //单位\r\n\t\t\t\t\t\tsdj_s.leasetime = sd_sdf.leasetime //时间\r\n\t\t\t\t\t\tsdj_s.budgetprice = sd_sdf.budgetprice //价格\r\n\t\t\t\t\t\tsdj_s.number = sd_sdf.number //数量\r\n\t\t\t\t\t\tsdj_s.contacts = sd_sdf.contacts //联系人\r\n\t\t\t\t\t\tsdj_s.mobile = sd_sdf.mobile //联系电话\r\n\t\t\t\t\t\tsdj_s.brief = sd_sdf.brief\r\n\t\t\t\t\t\tsdj_s.content = sd_sdf.content //描述\r\n\t\t\t\t\t\tue.setContent(sd_sdf.content);\r\n\t\t\t\t\t}, 100)\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n})"]}