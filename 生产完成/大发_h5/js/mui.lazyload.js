!function(a,b,c){var d=0;a.Lazyload=a.Class.extend({init:function(b,c){this.container=this.element=b,this.options=a.extend({selector:"",diff:!1,force:!1,autoDestroy:!0,duration:100},c),this._key=0,this._containerIsNotDocument=9!==this.container.nodeType,this._callbacks={},this._init()},_init:function(){this._initLoadFn(),this.addElements(),this._loadFn(),a.ready(function(){this._loadFn()}.bind(this)),this.resume()},_initLoadFn:function(){var b=this;b._loadFn=this._buffer(function(){b.options.autoDestroy&&0==b._counter&&a.isEmptyObject(b._callbacks)&&b.destroy(),b._loadItems()},b.options.duration,b)},_createLoader:function(a){var b,c,d,e=[];return function(f){return c||(c=!0,a(function(a){for(b=a;d=e.shift();)try{d&&d.apply(null,[b])}catch(a){setTimeout(function(){throw a},0)}})),b?(f&&f.apply(null,[b]),b):(f&&e.push(f),b)}},_buffer:function(b,c,d){function e(){f&&(f.cancel(),f=0),g=a.now(),b.apply(d||this,arguments),h=a.now()}var f,g=0,h=0,c=c||150;return a.extend(function(){!g||h>=g&&a.now()-h>c||h<g&&a.now()-g>8*c?e():(f&&f.cancel(),f=a.later(e,c,null,arguments))},{stop:function(){f&&(f.cancel(),f=0)}})},_getBoundingRect:function(c){var d,e,f,g;if(void 0!==c){d=c.offsetHeight,e=c.offsetWidth;var h=a.offset(c);f=h.left,g=h.top}else d=b.innerHeight,e=b.innerWidth,f=0,g=b.pageYOffset;var i=this.options.diff,j=!1===i?e:i,k=j,l=!1===i?d:i,m=l,n=f+e,o=g+d;return f-=0,n+=k,g-=0,o+=m,{left:f,top:g,right:n,bottom:o}},_cacheWidth:function(a){return a._mui_lazy_width?a._mui_lazy_width:a._mui_lazy_width=a.offsetWidth},_cacheHeight:function(a){return a._mui_lazy_height?a._mui_lazy_height:a._mui_lazy_height=a.offsetHeight},_isCross:function(a,b){var c={};return c.top=Math.max(a.top,b.top),c.bottom=Math.min(a.bottom,b.bottom),c.left=Math.max(a.left,b.left),c.right=Math.min(a.right,b.right),c.bottom>=c.top&&c.right>=c.left},_elementInViewport:function(b,c,d){if(!b.offsetWidth)return!1;var e,f=a.offset(b),g=!0,h=f.left,i=f.top,j={left:h,top:i,right:h+this._cacheWidth(b),bottom:i+this._cacheHeight(b)};return e=this._isCross(c,j),e&&d&&(g=this._isCross(d,j)),g&&e},_loadItems:function(){var b=this;b._containerIsNotDocument&&!b.container.offsetWidth||(b._windowRegion=b._getBoundingRect(),b._containerIsNotDocument&&(b._containerRegion=b._getBoundingRect(this.container)),a.each(b._callbacks,function(a,c){c&&b._loadItem(a,c)}))},_loadItem:function(a,b){var c=this;if(!(b=b||c._callbacks[a]))return!0;var d=b.el,e=!1,f=b.fn;if(c.options.force||c._elementInViewport(d,c._windowRegion,c._containerRegion))try{e=f.call(c,d,a)}catch(a){setTimeout(function(){throw a},0)}return!1!==e&&delete c._callbacks[a],e},addCallback:function(b,c){var d=this,e=d._callbacks,f={el:b,fn:c||a.noop},g=++this._key;e[g]=f,d._windowRegion?d._loadItem(g,f):d.refresh()},addElements:function(b){var c=this;c._counter=c._counter||0;var e=[];!b&&c.options.selector?e=c.container.querySelectorAll(c.options.selector):a.each(b,function(b,d){e=e.concat(a.qsa(c.options.selector,d))}),a.each(e,function(a,b){b.getAttribute("data-lazyload-id")||c.addElement(b)&&(b.setAttribute("data-lazyload-id",d++),c.addCallback(b,c.handle))})},addElement:function(a){return!0},handle:function(){},refresh:function(a){a&&this.addElements(),this._loadFn()},pause:function(){var a=this._loadFn;this._destroyed||(b.removeEventListener("scroll",a),b.removeEventListener("touchmove",a),b.removeEventListener("resize",a),this._containerIsNotDocument&&(this.container.removeEventListener("scrollend",a),this.container.removeEventListener("scroll",a),this.container.removeEventListener("touchmove",a)))},resume:function(){var a=this._loadFn;this._destroyed||(b.addEventListener("scroll",a,!1),b.addEventListener("touchmove",a,!1),b.addEventListener("resize",a,!1),this._containerIsNotDocument&&(this.container.addEventListener("scrollend",a,!1),this.container.addEventListener("scroll",a,!1),this.container.addEventListener("touchmove",a,!1)))},destroy:function(){var b=this;b.pause(),b._callbacks={},a.trigger(this.container,"destory",b),b._destroyed=1}})}(mui,window,document);